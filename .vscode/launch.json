{
        "version": "0.2.0",
        "configurations": [
                {
                        "name": "run",
                        "type": "go",
                        "request": "launch",
                        "mode": "auto",
                        "program": "${file}"
                },
                {
                        "name": "test",
                        "type": "go",
                        "request": "launch",
                        "mode": "test",
                        "program": "${fileDirname}"
                },
                {
                        "name": "attach",
                        "type": "go",
                        "request": "attach",
                        "mode": "local",
                        "processId": "${command:pickGoProcess}"
                },
                {
                        "name": "start server (empty tenancy)",
                        "type": "go",
                        "request": "launch",
                        "mode": "auto",
                        "program": "${workspaceFolder}",
                        "args": [
                                "start",
                                "server",
                                "--log-level=debug",
                                "--log-headers=true",
                                "--log-bodies=true",
                                "--grpc-listener-address=localhost:8000",
                                "--db-url=postgres://service:service123@localhost:5432/service",
                                "--tenancy-logic=empty"
                        ]
                },
                {
                        "name": "start server (default tenancy)",
                        "type": "go",
                        "request": "launch",
                        "mode": "auto",
                        "program": "${workspaceFolder}",
                        "args": [
                                "start",
                                "server",
                                "--log-level=debug",
                                "--log-headers=true",
                                "--log-bodies=true",
                                "--grpc-authn-trusted-token-issuers=https://keycloak.keycloak.svc.cluster.local:8001/realms/innabox",
                                "--grpc-listener-address=localhost:8000",
                                "--db-url=postgres://service:service123@localhost:5432/service",
                                "--tenancy-logic=default"
                        ]
                },
                {
                        "name": "start gateway",
                        "type": "go",
                        "request": "launch",
                        "mode": "auto",
                        "program": "${workspaceFolder}",
                        "args": [
                                "start",
                                "gateway",
                                "--log-level=debug",
                                "--log-headers=true",
                                "--log-bodies=true",
                                "--http-listener-address=localhost:8001",
                                "--grpc-server-address=localhost:8000",
                                "--grpc-server-plaintext",
                                "--grpc-keep-alive=5m"
                        ]
                },
                {
                        "name": "start controller",
                        "type": "go",
                        "request": "launch",
                        "mode": "auto",
                        "program": "${workspaceFolder}",
                        "args": [
                                "start",
                                "controller",
                                "--log-level=debug",
                                "--log-headers=true",
                                "--log-bodies=true",
                                "--grpc-server-address=fulfillment-api-innabox.apps.sno.internal.demo:443",
                                "--grpc-server-insecure",
                                "--grpc-keep-alive=5m",
                                "--token-file=token.txt",
                                "--dns-server=head.internal.demo:53",
                                "--dns-zone=my.demo",
                                "--dns-key-name=fulfillment-service",
                                "--dns-key-secret=nY8PWPZIzTU9jwCmF52gaLugtWEcL9MndXREiyRmHxw="
                        ]
                },
                {
                        "name": "start bcm-sync",
                        "type": "go",
                        "request": "launch",
                        "mode": "auto",
                        "program": "${workspaceFolder}",
                        "args": [
                                "start",
                                "bcm-sync",
                                "--log-level=debug",
                                "--log-headers=true",
                                "--log-bodies=true",
                                "--bcm-url=https://head.internal.demo:8081",
                                "--bcm-crt=../admin.pem",
                                "--bcm-key=../admin.key",
                                "--ca-file=../bundle.pem",
                                "--sync-interval=10s",
                                "--grpc-server-address=fulfillment-api-innabox.apps.sno.internal.demo:443",
                                "--grpc-server-insecure",
                                "--token-file=token.txt"
                        ]
                }
        ]
}
